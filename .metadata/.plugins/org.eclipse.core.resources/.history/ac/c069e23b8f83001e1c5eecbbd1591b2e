/*
 * mode1.c
 *
 *  Created on: Nov 15, 2023
 *      Author: DELL
 */

#include "mode1.h"

/*
 * run mode 1 in state machine
 * input: current state
 * output: none
 * */

uint8_t H_counter = 0, V_counter = 0;
uint8_t red = DEFAUFT_RED, yellow = DEFAUFT_YELLOW, green = DEFAUFT_GREEN;

void mode1(TRAFFIC state)
{
	switch (state)
	{
	case INIT:
		HAL_GPIO_WritePin(GPIOA, H_RED_Pin|H_YELLOW_Pin|H_GREEN_Pin|
								 V_RED_Pin|V_YELLOW_Pin|V_GREEN_Pin, SET);
		H_counter = 0;
		V_counter = 0;
		displayHorizon(0);
		displayVertical(0);
		break;
	case RED_GREEN:
		if (H_counter == 0)
			H_counter = DEFAUFT_RED;
		if (V_counter == 0)
			V_counter =
		HAL_GPIO_WritePin(GPIOA, H_RED_Pin|
								 V_GREEN_Pin, RESET);

		break;
	case INIT:
		break;
	case INIT:
		break;
	case INIT:
		break;
	default:

	}
}
